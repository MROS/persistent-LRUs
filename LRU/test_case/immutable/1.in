7

batch 8 from 0
put 1 1
put 2 2
put 3 3
put 4 4
put 5 5
put 6 6
put 7 7
put 8 8

read 9 from 1
1
2
3
4
5
6
7
8
9

batch 2 from 1
get 1
put 9 9

read 9 from 2
1
2
3
4
5
6
7
8
9

read 9 from 1
1
2
3
4
5
6
7
8
9

batch 9 from 1
put 1 -1
put 2 -2
put 3 -3
put 4 -4
put 5 -5
get 1
put 6 -6
put 7 -7
put 8 -8

read 9 from 3
1
2
3
4
5
6
7
8
9

read 9 from 2
1
2
3
4
5
6
7
8
9

read 9 from 1
1
2
3
4
5
6
7
8
9

end
